<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>网络系统管理-Linux-样题二</title>
    <link href="/2023/06/12/%E7%BD%91%E7%BB%9C%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86-Linux-%E6%A0%B7%E9%A2%98%E4%BA%8C/"/>
    <url>/2023/06/12/%E7%BD%91%E7%BB%9C%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86-Linux-%E6%A0%B7%E9%A2%98%E4%BA%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="1、服务器IspSrv工作任务"><a href="#1、服务器IspSrv工作任务" class="headerlink" title="1、服务器IspSrv工作任务"></a>1、服务器IspSrv工作任务</h1><h2 id="一、DHCP"><a href="#一、DHCP" class="headerlink" title="一、DHCP"></a>一、DHCP</h2><ul><li><input disabled="" type="checkbox"> 为OutsideCli客户端网络分配地址，地址池范围：81.6.63.110-81.6.63.190&#x2F;24；</li><li><input disabled="" type="checkbox"> 域名解析服务器：按照实际需求配置DNS服务器地址选项；</li><li><input disabled="" type="checkbox"> 网关：按照实际需求配置网关地址选项；</li></ul><h3 id="1、基础准备"><a href="#1、基础准备" class="headerlink" title="1、基础准备"></a>1、基础准备</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs apl">root@IspSrv:~# nano /etc/network/interfaces<br>auto ens32<br>iface ens32 inet static<br>address 81.6.63.100/24<br>gateway 81.6.63.2<br>root@IspSrv:~# systemctl restart networking.service<br>root@IspSrv:~# nano /etc/ssh/sshd_config<br>PermitRootLogin yes<br><br>root@IspSrv:~# vim /etc/apt/sources.list<br>## Generated by deepin-installer<br>#deb https://enterprise-packages.chinauos.com/server-enterprise fou/1040 main contrib non-free<br>#deb-src https://enterprise-packages.chinauos.com/server-enterprise fou/1040 main contrib non-free<br>deb [trusted=yes] file:///mnt fou main<br><br>root@IspSrv:~# nano /etc/apt/sources.list.d/appstore.list <br># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释<br>#deb https://enterprise-store-packages.chinauos.com/appstore eagle appstore<br><br>root@IspSrv:~# mount -t auto -o loop /dev/sr0 /mnt/<br>root@IspSrv:~# apt update<br></code></pre></td></tr></table></figure><h3 id="2、安装服务"><a href="#2、安装服务" class="headerlink" title="2、安装服务"></a>2、安装服务</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs apl">root@IspSrv:~# apt search dhcp<br>Sorting... Done<br>Full Text Search... Done<br>busybox/now 1:1.30.1.2-1+dde amd64 [installed,local]<br>  Tiny utilities for small and embedded systems<br><br>dnsmasq-base/unknown 2.80.4-1+dde amd64<br>  Small caching DNS proxy and DHCP/TFTP server<br><br>ipxe-qemu/unknown,unknown 1.0.0+git-20190125.36a4c85-1 all<br>  PXE boot firmware - ROM images for qemu<br><br>isc-dhcp-client/now 4.4.1.1-2 amd64 [installed,local]<br>  DHCP client for automatically obtaining an IP address<br><br>isc-dhcp-common/now 4.4.1.1-2 amd64 [installed,local]<br>  common manpages relevant to all of the isc-dhcp packages<br><br>isc-dhcp-relay/unknown 4.4.1.1-2 amd64<br>  ISC DHCP relay daemon<br><br>isc-dhcp-server/unknown,now 4.4.1.1-2 amd64 [installed]<br>  ISC DHCP server for automatic IP address assignment<br><br>openvpn/unknown,now 2.4.7.2-1+deb10u1 amd64 [installed,automatic]<br>  virtual private network daemon<br><br>resource-agents/unknown 1:4.2.0-2+deb10u2+rebuild amd64<br>  Cluster Resource Agents<br>root@IspSrv:~# apt install isc-dhcp-server -y<br>root@IspSrv:~# dpkg -L isc-dhcp-server<br></code></pre></td></tr></table></figure><h3 id="3、配置服务"><a href="#3、配置服务" class="headerlink" title="3、配置服务"></a>3、配置服务</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apl">root@IspSrv:~# nano /etc/default/isc-dhcp-server<br>...<br>INTERFACESv4=&quot;ens32&quot;<br>INTERFACESv6=&quot;&quot;<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apl">root@IspSrv:~# nano /etc/dhcp/dhcpd.conf<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs apl">subnet 81.6.63.0 netmask 255.255.255.0 &#123;<br>   range 81.6.63.110 81.6.63.190;<br>   option domain-name-servers 81.6.63.254;<br>   option domain-name &quot;chinaskills.cn&quot;;<br>   default-lease-time 600;<br>   max-lease-time 7200;<br>   host OutsideCli &#123;<br>     hardware ethernet 00:0c:29:7a:4b:d8;<br>     fixed-address 81.6.63.110;<br>   &#125;<br>&#125;<br><br>default-lease-time 600; # 默认<br>max-lease-time 7200; # 默认<br>...<br>ddns-update-style none; # DNS不进行动态更新<br># 默认<br>...<br>subnet 81.6.63.0 netmask 255.255.255.0 &#123;<br>   range 81.6.63.110 81.6.63.190;<br>   option domain-name-servers 81.6.63.254;<br>   option domain-name &quot;chinaskills.cn&quot;;<br>&#125;<br><br># 题目没说<br>host OutsideCli &#123;<br>  hardware ethernet 00:0c:29:7a:4b:d8;<br>  fixed-address 81.6.63.110;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apl">root@IspSrv:~# systemctl restart isc-dhcp-server.service<br>root@IspSrv:~# systemctl status isc-dhcp-server.service  -l<br></code></pre></td></tr></table></figure><h3 id="4、验证服务"><a href="#4、验证服务" class="headerlink" title="4、验证服务"></a>4、验证服务</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apl">root@OutsideCli:~# nano /etc/network/interfaces<br>auto ens32<br>iface ens32 inet dhcp<br>#address 81.6.63.110/24<br>root@OutsideCli:~# systemctl restart networking.service <br></code></pre></td></tr></table></figure><h1 id="2、服务器IOMSrv工作任务"><a href="#2、服务器IOMSrv工作任务" class="headerlink" title="2、服务器IOMSrv工作任务"></a>2、服务器IOMSrv工作任务</h1><p>官方也提供了zabbix安装的文档，也可以自己按照官方文档进行安装，文档的链接如下：</p><p><a href="https://www.zabbix.com/download?zabbix=5.0&os_distribution=centos&os_version=7&db=mysql&ws=nginx">https://www.zabbix.com/download?zabbix=5.0&amp;os_distribution=centos&amp;os_version=7&amp;db=mysql&amp;ws=nginx</a></p><h2 id="1、版本选择"><a href="#1、版本选择" class="headerlink" title="1、版本选择"></a>1、版本选择</h2><h2 id="2、安装Zabbix部署包"><a href="#2、安装Zabbix部署包" class="headerlink" title="2、安装Zabbix部署包"></a>2、安装Zabbix部署包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apl">[root@imosrv ~]# yum install zabbix-server-mysql zabbix-web-mysql zabbix-agent<br></code></pre></td></tr></table></figure><h2 id="3、后端存储数据库"><a href="#3、后端存储数据库" class="headerlink" title="3、后端存储数据库"></a>3、后端存储数据库</h2><p>在MySQL上安装Zabbix数据库和用户，请参看下列指导步骤。MySQL<a href="https://www.zabbix.com/documentation/3.4/zh/manual/appendix/install/db_scripts">数据库创建脚本</a>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apl">[root@storagesrv ~]# mysql -uroot -pChinaskill21!<br>create database zabbix character set utf8 collate utf8_bin;<br>grant all privileges on zabbix.* to zabbix@&#x27;%&#x27; identified by &#x27;Chinaskill21!&#x27;;<br>flush privileges;<br></code></pre></td></tr></table></figure><p>然后导入初始架构（Schema）和数据。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apl">zcat /usr/share/doc/zabbix-server-mysql-*/create.sql.gz | mysql -uzabbix -pChinaskill21! zabbix<br></code></pre></td></tr></table></figure><h2 id="4、编辑配置文件"><a href="#4、编辑配置文件" class="headerlink" title="4、编辑配置文件"></a>4、编辑配置文件</h2><blockquote><p>Zabbix Server端配置文件</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apl">[root@imosrv ~]# vi /etc/zabbix/zabbix_server.conf<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apl">DBHost=192.168.100.200<br>DBName=zabbix<br>DBUser=zabbix<br>DBPassword=Chinaskill21!<br>#DBPort=3358<br></code></pre></td></tr></table></figure><blockquote><p>Zabbix Agent端配置文件</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apl"># 自己监控自己。。。<br>[root@imosrv ~]# vim /etc/zabbix/zabbix_agentd.conf<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apl">Server=192.168.100.110 # Zabbix Server的地址，允许该ip地址获取数据，被动获取<br>ServerActive=192.168.100.110 # 主动将主机的数据发送给该ip地址，Zabbix Server，主动发送<br>Hostname=IOMSrv # 这个定义的名字必须和web页面里面host的名字一样。<br>UnsafeUserParameters=1  #允许所有的字符是在用户定义的参数，参数传递，也就是支持自定义脚本<br></code></pre></td></tr></table></figure><h2 id="5、启动Zabbix"><a href="#5、启动Zabbix" class="headerlink" title="5、启动Zabbix"></a>5、启动Zabbix</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apl">[root@imosrv ~]#  systemctl enable --now zabbix-server zabbix-agent<br></code></pre></td></tr></table></figure><h2 id="6、添加操作系统监控对象"><a href="#6、添加操作系统监控对象" class="headerlink" title="6、添加操作系统监控对象"></a>6、添加操作系统监控对象</h2><p>通过Linux代理模板，添加StorageSrv、AppSrv操作系统监控对象，查看运行状态</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apl">[root@storagesrv ~]# yum install zabbix-agent vim -y<br>[root@storagesrv ~]# vim /etc/zabbix/zabbix_agentd.conf<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apl">Server=192.168.100.110<br>ServerActive=192.168.100.110<br>Hostname=StorageSrv<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>2023-网络系统管理比赛-Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux-样题二</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/06/09/hello-world/"/>
    <url>/2023/06/09/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <categories>
      
      <category>Hello World</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hello World</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
